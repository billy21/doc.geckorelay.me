(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{165:function(t,e,a){"use strict";a.r(e);var o=a(0),l=Object(o.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"koolshare-openwrt-配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#koolshare-openwrt-配置","aria-hidden":"true"}},[t._v("#")]),t._v(" Koolshare OpenWRT 配置")]),t._v(" "),a("h2",{attrs:{id:"概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#概述","aria-hidden":"true"}},[t._v("#")]),t._v(" 概述")]),t._v(" "),a("p",[t._v("Koolshare 论坛释出的修改版 OpenWRT 增加了 Koolshare 特有的软件中心功能，可以很方便地通过图形化界面配置 GeckoRelay 服务。虽然 OpenWRT 作为一个 Linux 类发行版也可以通过安装特定软件包来配置，但不适用于大部分人的使用，且各种配置项较为复杂。")]),t._v(" "),a("p",[t._v("但是同时，Koolshare 在实现了丰富的功能的同时，也导致稳定性大幅下降，在某些固件版本中还可能大幅影响网络速度，GeckoRelay 建议用户通过虚拟化部署 OpenWRT 软路由并只使用稳定版本，且需要经常备份你的虚拟机和 OpenWRT 配置文件，避免因为固件稳定性问题影响家庭内整体网络。")]),t._v(" "),a("p",[t._v("我们仅在特定平台和版本上进行过测试，并以此撰写文档")]),t._v(" "),a("p",[t._v("此软件更新较为频繁且有多个版本，文档中的部分内容可能和实际存在差异。")]),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("主流支持")]),t._v(" "),a("p",[t._v("GeckoRelay 目前提供对此客户端的主流支持")])]),t._v(" "),a("h3",{attrs:{id:"系统环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#系统环境","aria-hidden":"true"}},[t._v("#")]),t._v(" 系统环境")]),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("在此文章撰写时...")]),t._v(" "),a("p",[t._v("Windows Server 2016 Datacenter"),a("br"),t._v("\nHyper-V Hypervisor"),a("br"),t._v("\nKoolshare OpenWRT x64 v2.8"),a("br"),t._v("\nKoolSS (Software center) 1.9.7")])]),t._v(" "),a("h2",{attrs:{id:"从软件中心中安装-koolss"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#从软件中心中安装-koolss","aria-hidden":"true"}},[t._v("#")]),t._v(" 从软件中心中安装 KoolSS")]),t._v(" "),a("p",[t._v("通过浏览器访问 OpenWRT 管理页面。")]),t._v(" "),a("p",[t._v("由于 Koolshare OpenWRT 的页面存在一些兼容性问题，建议使用 Google Chrome 浏览器")]),t._v(" "),a("p",[t._v("点击左侧侧边栏的「酷软」。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://rixcloud-1255365801.file.myqcloud.com/image/3t9vc.png",alt:"",title:"打开软件中心"}})]),t._v(" "),a("p",[t._v("在软件中心的「未安装」列表中找到「科学上网插件」，如下图：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://rixcloud-1255365801.file.myqcloud.com/image/ll4ht.png",alt:""}})]),t._v(" "),a("p",[t._v("由于我们已经安装过此插件，因此显示为「更新」")]),t._v(" "),a("p",[t._v("点击插件的「安装」按钮安装，页面将会在安装完成够自动跳转。")]),t._v(" "),a("h2",{attrs:{id:"检查-geckorelay-订阅的设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#检查-geckorelay-订阅的设置","aria-hidden":"true"}},[t._v("#")]),t._v(" 检查 GeckoRelay 订阅的设置")]),t._v(" "),a("p",[t._v("KoolSS 完整支持 SSR 协议")]),t._v(" "),a("p",[t._v("如果不需要使用 Surge 等软件，建议将订阅协议组设置为不带有「兼容」字样的协议（混淆插件除外）。")]),t._v(" "),a("p",[t._v("访问 GeckoRelay 管理门户，点击已经激活的订阅进入订阅管理页面。然后点击「订阅设置」按钮即可修改。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://rixcloud-1255365801.file.myqcloud.com/image/8plkh.png",alt:"",title:"订阅设置"}})]),t._v(" "),a("h3",{attrs:{id:"获取-geckorelay-api-订阅"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取-geckorelay-api-订阅","aria-hidden":"true"}},[t._v("#")]),t._v(" 获取 GeckoRelay API 订阅")]),t._v(" "),a("p",[t._v("打开 GeckoRelay 管理门户，点击订阅名称进入订阅信息管理页面。在「自动配置」功能区找到桌面平台 – 「节点订阅」。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://rixcloud-1255365801.file.myqcloud.com/image/6tib7.png",alt:"",title:"GeckoRelay API 订阅"}})]),t._v(" "),a("p",[t._v("点击按钮后会弹出新的窗口，在新的窗口中点击「普通模式」。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://rixcloud-1255365801.file.myqcloud.com/image/p467g.png",alt:"",title:"GeckoRelay API 订阅模式"}})]),t._v(" "),a("p",[t._v("按钮上的文字应当在点击后变成「已经复制到剪贴板」，说明 GeckoRelay API URI 已经复制到你计算机的剪贴板中。")]),t._v(" "),a("p",[t._v("这个 API URI 非常重要，你应当把它当做密码一样妥善保管，避免泄露。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://rixcloud-1255365801.file.myqcloud.com/image/kh4at.png",alt:"",title:"复制 API URI 到剪贴板"}})]),t._v(" "),a("h2",{attrs:{id:"配置-koolss"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置-koolss","aria-hidden":"true"}},[t._v("#")]),t._v(" 配置 KoolSS")]),t._v(" "),a("p",[t._v("打开软件中心，然后从「已安装」的插件列表中打开 KoolSS。")]),t._v(" "),a("p",[t._v("如果 KoolSS 出于关闭状态，则点击开关打开它。")]),t._v(" "),a("p",[t._v("点击「节点管理」选项卡， 然后点击二级的「节点管理」选项卡。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://rixcloud-1255365801.file.myqcloud.com/image/olods.png",alt:"",title:"节点管理"}})]),t._v(" "),a("p",[t._v("在下方的 SSR 节点订阅中填写一些必要信息。")]),t._v(" "),a("p",[t._v("将我们刚才复制的 GeckoRelay API URI 粘贴到「SSR 节点订阅地址」中；将「订阅节点模式设定」选择为「游戏模式」；然后将订阅节点混淆参数设定设置为「使用订阅设定」。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://rixcloud-1255365801.file.myqcloud.com/image/t61lj.png",alt:"",title:"配置 GeckoRelay API 订阅"}})]),t._v(" "),a("p",[t._v("「订阅节点模式设定」可以根据你的需求来设置，但最佳使用体验是设置为「游戏模式」。")]),t._v(" "),a("p",[t._v("配置完成后点击「保存订阅设置」，页面将会自动跳转。")]),t._v(" "),a("p",[t._v("完成后，再次返回此页面，并点击「手动更新订阅」。页面将会自动跳转并刷出类似下图的日志信息：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://rixcloud-1255365801.file.myqcloud.com/image/k7zql.png",alt:"",title:"更新订阅"}})]),t._v(" "),a("p",[t._v("此时 GeckoRelay 接入点信息已经添加到你的 KoolSS 中了，现在让我们来做一些附加设置以便更好地使用。")]),t._v(" "),a("h2",{attrs:{id:"koolss-附加设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#koolss-附加设置","aria-hidden":"true"}},[t._v("#")]),t._v(" KoolSS 附加设置")]),t._v(" "),a("p",[t._v("点击「规则管理」选项卡，将下方的 KoolSS 规则自动更新设置为「开启」，将时间设置为你可能不会使用网络的时间，然后勾选所有规则复选框。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://rixcloud-1255365801.file.myqcloud.com/image/u603p.png",alt:"",title:"设置规则管理"}})]),t._v(" "),a("p",[t._v("你可以只勾选图中红框框选的「chnroute」和「chn_list」，但建议全部勾选。")]),t._v(" "),a("p",[t._v("点击「DNS 设定」选项卡，进行如下设定：")]),t._v(" "),a("p",[t._v("将「DNS 解析偏好」设置为「国外优先」")]),t._v(" "),a("p",[t._v("将「选择国内 DNS」设置为「运营商 DNS」或「自定义」，然后输入"),a("code",[t._v("119.28.28.28")])]),t._v(" "),a("p",[t._v("将「选择国外 DNS」设置为「ss-tunnel」，然后选择你喜欢的国外公共 DNS 服务提供商")]),t._v(" "),a("p",[t._v("将「SS 服务器地址解析」设置为「nslookup 方式」，然后输入"),a("code",[t._v("119.28.28.28")])]),t._v(" "),a("p",[t._v("勾选「chromecast 支持」以劫持局域网内设备的 DNS 解析，避免受到 DNS 缓存污染")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://rixcloud-1255365801.file.myqcloud.com/image/jvmlx.png",alt:"",title:"DNS 设定"}})]),t._v(" "),a("h2",{attrs:{id:"开启-koolss"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开启-koolss","aria-hidden":"true"}},[t._v("#")]),t._v(" 开启 KoolSS")]),t._v(" "),a("p",[t._v("返回到 KoolSS 主页面「账号设置」，选择需要使用的接入点，然后点击下方的「提交」按钮。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://rixcloud-1255365801.file.myqcloud.com/image/c4rjl.png",alt:"",title:"选择接入点"}})]),t._v(" "),a("p",[t._v("页面会自动跳转并刷出类似下图的日志信息：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://rixcloud-1255365801.file.myqcloud.com/image/13gcg.png",alt:"",title:"KoolSS 启动日志"}})]),t._v(" "),a("p",[t._v("完成后，页面会自动跳转回主页面，并启动连接测试，如果如下图显示则连接成功，所有连接到此路由器的设备都可以通过 GeckoRelay 网络连接到国际互联网。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://rixcloud-1255365801.file.myqcloud.com/image/soig9.png",alt:"",title:"连接检查"}})]),t._v(" "),a("p",[t._v("某些情况下，显示连接错误并非未能连接上，而是可能的测试失败，请实际使用浏览器打开网页测试。")])])}],!1,null,null,null);e.default=l.exports}}]);